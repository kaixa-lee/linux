// SPDX-License-Identifier: (GPL-2.0 OR MIT)
//
// Copyright (C) 2016 Freescale Semiconductor, Inc.

/dts-v1/;

#include "imx6ull.dtsi"
#include "imx6ul-14x14-evk.dtsi"

/ {
	model = "Freescale i.MX6 ULL 14x14 EVK Board";
	compatible = "fsl,imx6ull-14x14-evk-emmc", "fsl,imx6ull";

    chosen {
        bootargs = "console=ttymxc0,115200 root=/dev/mmcblk1p2 rootwait rw";
    };
};

&clks {
	assigned-clocks = <&clks IMX6UL_CLK_PLL3_PFD2>,
			          <&clks IMX6UL_CLK_PLL4_AUDIO_DIV>;
	assigned-clock-rates = <320000000>, <786432000>;
};

&csi {
	status = "okay";
};

&ov5640 {
	status = "okay";
};

/delete-node/ &sim2;

/ {
    onewire {
        compatible = "w1-gpio";
        gpios = <&gpio1 1 GPIO_ACTIVE_HIGH>;
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_onewire>;
        linux,open-drain;
        status = "okay";
    };

    spi-4 {
        /delete-property/ cs-gpios;
        gpio_spi: gpio@0 {
            /delete-property/ enable-gpios;
        };
    };

    reg_sd1_vmmc: regulator-sd1-vmmc {
        /delete-property/ off-on-delay-us;
        /delete-property/ gpio;
    };
};

&fec1 {
    pinctrl-0 = <&pinctrl_enet1
    &pinctrl_fec1_reset>;
};

&fec2 {
    pinctrl-0 = <&pinctrl_enet2
    &pinctrl_fec2_reset>;
};

&usdhc2 {
    pinctrl-names = "default", "state_100mhz", "state_200mhz";
    pinctrl-0 = <&pinctrl_usdhc2_8bit>;
    pinctrl-1 = <&pinctrl_usdhc2_8bit_100mhz>;
    pinctrl-2 = <&pinctrl_usdhc2_8bit_200mhz>;
    bus-width = <8>;
    non-removable;
    status = "okay";
};

&lcdif {
    display0: display@0 {
        bits-per-pixel = <16>;
        bus-width = <24>;

        display-timings {
            native-mode = <&timing0>;
            timing0: timing0 {
                clock-frequency = <33000000>;
                hactive = <800>;
                vactive = <480>;
                hfront-porch = <40>;
                hback-porch = <88>;
                hsync-len = <48>;
                vback-porch = <32>;
                vfront-porch = <13>;
                vsync-len = <3>;
                hsync-active = <0>;
                vsync-active = <0>;
                de-active = <1>;
                pixelclk-active = <0>;
            };
        };
    };
};

&i2c2 {
    goodix_ts@14 {
        compatible = "goodix,xpt2046";
        reg = <0x14>;
        status = "okay";
        interrupt-parent = <&gpio1>;
        interrupts = <9 IRQ_TYPE_NONE>;
        pinctrl-0 = <&pinctrl_tsc_int
        &pinctrl_tsc_reset>;
        goodix,rst-gpio = <&gpio5 9  GPIO_ACTIVE_LOW>;
        goodix,irq-gpio = <&gpio1 9  GPIO_ACTIVE_LOW>;
    };
};

&iomuxc {
    pinctrl-names = "default";

    pinctrl_onewire: onewire {
        fsl,pins = <MX6UL_PAD_GPIO1_IO01__GPIO1_IO01    0x17059>;
    };

    pinctrl_tsc_int: ts_int_pin_mux {
        fsl,pins = <MX6UL_PAD_GPIO1_IO09__GPIO1_IO09    0x79>;
    };

    pinctrl_lcdif_dat: lcdifdatgrp {
        fsl,pins = <
        MX6UL_PAD_LCD_DATA00__LCDIF_DATA00  0x49
        MX6UL_PAD_LCD_DATA01__LCDIF_DATA01  0x49
        MX6UL_PAD_LCD_DATA02__LCDIF_DATA02  0x49
        MX6UL_PAD_LCD_DATA03__LCDIF_DATA03  0x49
        MX6UL_PAD_LCD_DATA04__LCDIF_DATA04  0x49
        MX6UL_PAD_LCD_DATA05__LCDIF_DATA05  0x49
        MX6UL_PAD_LCD_DATA06__LCDIF_DATA06  0x49
        MX6UL_PAD_LCD_DATA07__LCDIF_DATA07  0x51
        MX6UL_PAD_LCD_DATA08__LCDIF_DATA08  0x49
        MX6UL_PAD_LCD_DATA09__LCDIF_DATA09  0x49
        MX6UL_PAD_LCD_DATA10__LCDIF_DATA10  0x49
        MX6UL_PAD_LCD_DATA11__LCDIF_DATA11  0x49
        MX6UL_PAD_LCD_DATA12__LCDIF_DATA12  0x49
        MX6UL_PAD_LCD_DATA13__LCDIF_DATA13  0x49
        MX6UL_PAD_LCD_DATA14__LCDIF_DATA14  0x49
        MX6UL_PAD_LCD_DATA15__LCDIF_DATA15  0x51
        MX6UL_PAD_LCD_DATA16__LCDIF_DATA16  0x49
        MX6UL_PAD_LCD_DATA17__LCDIF_DATA17  0x49
        MX6UL_PAD_LCD_DATA18__LCDIF_DATA18  0x49
        MX6UL_PAD_LCD_DATA19__LCDIF_DATA19  0x49
        MX6UL_PAD_LCD_DATA20__LCDIF_DATA20  0x49
        MX6UL_PAD_LCD_DATA21__LCDIF_DATA21  0x49
        MX6UL_PAD_LCD_DATA22__LCDIF_DATA22  0x49
        MX6UL_PAD_LCD_DATA23__LCDIF_DATA23  0x51
        >;
    };
};

&iomuxc_snvs {
    pinctrl-names = "default_snvs";
    pinctrl_fec1_reset: fec1_resetgrp {
        fsl,pins = <MX6ULL_PAD_SNVS_TAMPER7__GPIO5_IO07    0x79>;
    };

    pinctrl_fec2_reset: fec2_resetgrp {
        fsl,pins = <MX6ULL_PAD_SNVS_TAMPER8__GPIO5_IO08    0x79>;
    };

    pinctrl_tsc_reset: ts_reset_pin_mux {
        fsl,pins = <MX6ULL_PAD_SNVS_TAMPER9__GPIO5_IO09    0x49>;
    };
};

/delete-node/ &tsc;
